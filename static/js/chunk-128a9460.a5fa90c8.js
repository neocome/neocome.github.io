(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-128a9460"],{"6e88":function(t,s,a){},ce8c:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"Tpassword",class:"Tpassword-"+this.$store.state.skin},[a("div",{staticClass:"Tpassword_top"},[a("div",{staticClass:"box"},[a("p",[a("router-link",{attrs:{to:{path:"mine"}}},[a("span",[t._v(t._s(t.$t("mine.mine")))])]),t._v(" > "+t._s(t.$t("TransactionPassword.modify"))+" ")],1)])]),a("div",{staticClass:"Tpassword_body"},[a("h3",{staticClass:"Semibold"},[t._v(t._s(t.$t("TransactionPassword.modify")))]),a("div",{staticClass:"Tpassword_body_div Medium"},[a("div",[a("p",[t._v(t._s(t.$t("TransactionPassword.new")))]),a("el-input",{attrs:{placeholder:t.$t("TransactionPassword.newIpn"),"show-password":"",maxlength:"6",onkeypress:"return (/[\\d]/.test(String.fromCharCode(event.keyCode)))"},model:{value:t.pwd2,callback:function(s){t.pwd2=s},expression:"pwd2"}})],1),a("div",[a("p",[t._v(t._s(t.$t("TransactionPassword.confirm")))]),a("el-input",{attrs:{maxlength:"6",placeholder:t.$t("TransactionPassword.confirmIpn"),"show-password":"",onkeypress:"return (/[\\d]/.test(String.fromCharCode(event.keyCode)))"},model:{value:t.pwd3,callback:function(s){t.pwd3=s},expression:"pwd3"}})],1),a("div",{staticClass:"code"},[a("p",[t._v(t._s(t.name))]),a("el-input",{attrs:{placeholder:t.$t("TransactionPassword.codeInp")},model:{value:t.code,callback:function(s){t.code=s},expression:"code"}}),a("button",{staticClass:"hand",attrs:{disabled:t.disabled},on:{click:t.sendCode}},[t._v(t._s(t.msg))])],1),a("button",{staticClass:"hand",on:{click:t.setTradPassword}},[t._v(t._s(t.$t("TransactionPassword.modify")))])])])])},n=[],o=(a("b0c0"),a("4328")),i=a.n(o),r=null,d=/^\d{6}$/,c={data:function(){return{pwd1:"",pwd2:"",pwd3:"",type:this.$route.query.type,code:"",name:this.$route.query.name,msg:this.$t("TransactionPassword.send"),count:60,area:this.$route.query.area,disabled:!1}},methods:{setTradPassword:function(){var t=this,s={userid:this.$store.state.userId,tradpassword:this.$DES3.encrypt(this.pwd3)};this.$Global.setSign(s);this.$http.post("".concat(this.$host1,"/exchangews/setTradPassword"),i.a.stringify(s)).then((function(s){if("0"===s.data.state)var a=setTimeout((function(){t.$router.push({path:"/mine"}),clearTimeout(a)}),2500)}))},getYanz:function(){var t=this,s=this;if(this.pwd2===this.pwd3)if(d.test(this.pwd3))if(""!==this.code){var a={name:this.$DES3.encrypt(s.username),code:this.$DES3.encrypt(s.code)};this.$http.post("".concat(this.$host1,"/account/forget"),i.a.stringify(a)).then((function(s){"0"===s.data.state&&t.setTradPassword()})).catch((function(){t.$message({message:s.$t("message.alertWrong"),duration:2e3})}))}else this.comShow(s.$t("alert.code"),"warning");else this.comShow(s.$t("alert.password1"),"warning");else this.comShow(s.$t("alert.password"),"warning")},sendCode:function(){var t=this,s=this,a={area:this.$DES3.encrypt(s.area),name:this.$DES3.encrypt(s.name)};this.$http.post("".concat(this.$host1,"/account/sendCode"),i.a.stringify(a)).then((function(s){"0"===s.data.state&&t.calcTime()}))},calcTime:function(){var t=this;r||(r=setInterval((function(){t.count>0?(t.count--,t.msg=t.count+"S",t.disabled=!0):(clearInterval(r),r=null,t.msg=t.$t("TransactionPassword.send"),t.count=60,t.disabled=!1)}),1e3))},comShow:function(t,s){var a=this;this.$message({showClose:!0,duration:3e3,message:a.$t(t),type:s||"info"})}}},h=c,l=(a("dbeb"),a("2877")),p=Object(l["a"])(h,e,n,!1,null,"fad4eb36",null);s["default"]=p.exports},dbeb:function(t,s,a){"use strict";var e=a("6e88"),n=a.n(e);n.a}}]);