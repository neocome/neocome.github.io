(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-765ba342"],{"517f":function(s,t,e){"use strict";var a=e("fd15"),i=e.n(a);i.a},5680:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"box",class:"buyDetailsBg-"+this.$store.state.skin},[e("div",{staticClass:"header"},[e("div",{staticClass:"cen header-nav middleAll"},[s._v(s._s(s.$t("message.sellDetails.headerTitle")))])]),e("div",{staticClass:"cen main allFlex",style:{height:s.obj.orderstate>2?"35%":"75%"}},[e("div",{staticClass:"main-left",class:"bg-"+this.$store.state.skin},[e("div",{staticClass:"allFlex main-left-header padding detailsPadding",class:"buyDetailsBorder-"+this.$store.state.skin},[e("span",{staticClass:"left-header-title",class:"buyDeatailsTitle-"+this.$store.state.skin},[s._v(s._s(s.$t("message.sellDetails.leftTitle"))+s._s(s.curencyname))]),e("span",{staticClass:"left-header-proTitle"},[s._v(s._s(s.$t("message.sellDetails.orderNumber"))+":"+s._s(s.obj.ordernumber))])]),e("ul",{staticClass:"main-center padding detailsPadding"},[e("li",{staticClass:"allFlex main-center-top"},[e("div",{staticClass:"allFlex column"},[e("span",{staticClass:"proFont"},[s._v(s._s(s.$t("message.sellDetails.nav.total")))]),e("span",{staticClass:"blue"},[s._v(s._s(Number(s.obj.total).toFixed(4))+"CNY")])]),e("div",{staticClass:"allFlex column"},[e("span",{staticClass:"proFont"},[s._v(s._s(s.$t("message.sellDetails.nav.number")))]),e("span",{class:"buyDeatailsTitle-"+this.$store.state.skin},[s._v(s._s(s.obj.quantity)+s._s(s.curencyname))])]),e("div",{staticClass:"allFlex column"},[e("span",{staticClass:"proFont"},[s._v(s._s(s.$t("message.sellDetails.nav.price")))]),e("span",{class:"buyDeatailsTitle-"+this.$store.state.skin},[s._v(s._s(s.obj.price)+"CNY")])])]),s.obj.orderstate<=2?e("li",{staticClass:"proFont main-center-pay"},[s._v(s._s(s.$t("message.sellDetails.rightTitle")))]):s._e(),s.obj.aliappid&&""!==s.obj.aliappid&&s.obj.orderstate<=2?e("li",{staticClass:"main-center-pay allFlex"},[e("div",[e("span",{staticClass:"pay-btn zfb-btn"},[s._v(s._s(s.$t("message.payWay.zfb")))]),e("span",{staticClass:"proFont person-name"},[s._v(s._s(s.obj.alirealname))]),e("span",{staticClass:"proFont"},[s._v(s._s(s.obj.aliappid))])]),e("div",{staticClass:"center-code allFlex"},[e("el-image",{staticStyle:{width:"20px",height:"20px"},attrs:{value:s.theme,src:s.obj.aliimgurl,"preview-src-list":s.srcList}}),e("span",{staticClass:"blue"},[s._v(s._s(s.$t("message.buyDetails.erCode")))])],1)]):s._e(),s.obj.wxappid&&""!==s.obj.wxappid&&s.obj.orderstate<=2?e("li",{staticClass:"main-center-pay allFlex"},[e("div",[e("span",{staticClass:"pay-btn wx-btn"},[s._v(s._s(s.$t("message.payWay.wx")))]),e("span",{staticClass:"proFont person-name"},[s._v(s._s(s.obj.wxrealname))]),e("span",{staticClass:"proFont"},[s._v(s._s(s.obj.wxappid))])]),e("div",{staticClass:"center-code allFlex"},[e("el-image",{staticStyle:{width:"20px",height:"20px"},attrs:{value:s.theme,src:s.obj.wximgurl,"preview-src-list":s.srcList}}),e("span",{staticClass:"blue"},[s._v(s._s(s.$t("message.buyDetails.erCode")))])],1)]):s._e(),s.obj.bankappid&&""!==s.obj.bankappid&&s.obj.orderstate<=2?e("li",{staticClass:"main-center-pay allFlex"},[e("div",[e("span",{staticClass:"pay-btn bank-btn"},[s._v(s._s(s.$t("message.payWay.bank")))]),e("span",{staticClass:"proFont person-name"},[s._v(s._s(s.obj.bankrealname))]),e("span",{staticClass:"proFont"},[s._v(s._s(s.obj.bankappid))])]),e("div",{staticClass:"center-code allFlex"},[e("el-image",{staticStyle:{width:"20px",height:"20px"},attrs:{value:s.theme,src:s.obj.bankimgurl,"preview-src-list":s.srcList}}),e("span",{staticClass:"blue"},[s._v(s._s(s.$t("message.buyDetails.erCode")))])],1)]):s._e()]),s.obj.orderstate<=2?e("ul",{staticClass:"main-transfer allFlex column",class:"buyDetailsBg-"+this.$store.state.skin},[e("li",[e("span",{class:"buyDeatailsTitle-"+this.$store.state.skin},[s._v(s._s(s.obj.tips))]),e("span",{staticClass:"Ycolor countdown"},[s._v(s._s(s.minute))]),e("span",{staticClass:"Ycolor"},[s._v(":")]),e("span",{staticClass:"countdown Ycolor"},[s._v(s._s(s.second))])]),e("li",{staticClass:"transfer-price Ycolor"},[s._v(s._s(Number(s.obj.total).toFixed(4))+"CNY")])]):s._e(),5===s.obj.orderstate?e("ul",{staticClass:"main-transfer allFlex column",class:"buyDetailsBg-"+this.$store.state.skin},[e("li",{class:"buyDeatailsTitle-"+this.$store.state.skin},[s._v(s._s(s.$t("message.sellDetails.successTitle")))]),e("li",{staticClass:"Ycolor"},[s._v(s._s(s.$t("message.sellDetails.success")))])]):s._e(),4===s.obj.orderstate?e("ul",{staticClass:"main-transfer allFlex column",class:"buyDetailsBg-"+this.$store.state.skin},[e("li",{class:"buyDeatailsTitle-"+this.$store.state.skin},[s._v(s._s(s.$t("message.sellDetails.complaintTitle")))]),e("li",{staticClass:"Ycolor"},[s._v(s._s(s.$t("message.sellDetails.complainting")))])]):s._e(),3===s.obj.orderstate?e("ul",{staticClass:"main-transfer allFlex column",class:"buyDetailsBg-"+this.$store.state.skin},[e("li",{class:"buyDeatailsTitle-"+this.$store.state.skin},[s._v(s._s(s.$t("message.sellDetails.failTitle")))]),e("li",{staticClass:"Ycolor"},[s._v(s._s(s.$t("message.sellDetails.fail")))])]):s._e(),s.obj.orderstate<=2?e("ul",{staticClass:"main-left-prompt detailsPadding",class:"bg-"+this.$store.state.skin},s._l(s.promptArr,(function(t,a){return e("li",{key:a,staticClass:"proFont"},[s._v(s._s(s.$t(t)))])})),0):s._e(),s.obj.orderstate<2?e("div",{staticClass:"main-left-btn allFlex"},[0===s.obj.lefttime?e("span",{staticClass:"Ycolor cancel-btn hand",class:"buyCancelBtn-"+this.$store.state.skin+" cancel-btn-"+this.$store.state.skin,on:{click:function(t){return s.cancelOrder("0")}}},[s._v(s._s(s.$t("message.sellDetails.complaint")))]):s._e(),0!==s.obj.lefttime?e("span",{staticClass:"noClick-btn"},[s._v(s._s(s.$t("message.sellDetails.complaint")))]):s._e(),e("span",{staticClass:"release-btn"},[s._v(s._s(s.$t("message.sellDetails.release")))])]):s._e(),2===s.obj.orderstate?e("div",{staticClass:"main-left-btn allFlex"},[e("span",{staticClass:"Ycolor cancel-btn",class:"buyCancelBtn-"+this.$store.state.skin+" cancel-btn-"+this.$store.state.skin,on:{click:s.toComplaint}},[s._v(s._s(s.$t("message.sellDetails.complaint")))]),e("span",{staticClass:"next-btn",on:{click:function(t){s.tradingDialogShow=!0}}},[s._v(s._s(s.$t("message.sellDetails.release")))])]):s._e()]),e("ul",{staticClass:"main-right",class:"bg-"+this.$store.state.skin},[e("li",{staticClass:"main-right-header detailsPadding",class:"buyRightTitle-"+this.$store.state.skin+" buyDetailsBorder-"+this.$store.state.skin},[s._v(s._s(s.$t("message.sellDetails.rightTitle")))]),e("li",{staticClass:"main-right-person allFlex detailsPadding",class:"buyDetailRightBorder-"+this.$store.state.skin+" buyDetailsBorder-"+this.$store.state.skin},[e("div",{staticClass:"person-pic"}),e("div",{staticClass:"allFlex column person-info"},[e("span",{class:"buyRightTitle-"+this.$store.state.skin},[s._v(s._s(s.obj.nickname))]),e("span",{class:"buyRightPro-"+this.$store.state.skin},[s._v(s._s(s.$t("message.sellDetails.closing"))+"100%")])])]),e("li",{staticClass:"main-right-header detailsPadding allFlex",class:"buyRightTitle-"+this.$store.state.skin},[e("span",[s._v(" "+s._s(s.$t("message.buyDetails.contact"))+" "),s.phoneShow?e("span",[s._v(s._s(s.obj.phone))]):s._e()]),e("i",{staticClass:"iconfont icon-phone phone-pic hand",class:5===s.obj.orderstate?"proFont":"Ycolor",on:{click:function(t){s.phoneShow=!s.phoneShow}}})])])]),e("appTrading-dialog",{attrs:{person:s.person,show:s.tradingDialogShow}}),e("trade-password")],1)},i=[],l=e("4328"),n=e.n(l),r={name:"buyDetails",data:function(){return{person:"seller",obj:{total:"64851.22",price:"67151.11",number:"0.99999",name:"张三三",account:"1245315566@qq.com",closing:"98%"},tradingDialogShow:!1,minute:0,second:0,state:0,phoneShow:!1,timer:null,interval:null,srcList:[],promptArr:["message.sellDetails.prompt.title","message.sellDetails.prompt.one","message.sellDetails.prompt.two","message.sellDetails.prompt.three"],curencyname:"",password:""}},methods:{toComplaint:function(){var s=this;this.$router.push({path:"/complaint",query:{person:"buyer",obj:s.obj,orderid:this.$route.query.orderid,otherid:this.$route.query.otherid}})},imgShow:function(){this.srcList=[],this.obj.wxappid&&""!==this.obj.wxappid&&this.srcList.push(this.obj.wximgurl),this.obj.aliappid&&""!==this.obj.aliappid&&this.srcList.push(this.obj.aliimgurl),this.obj.bankappid&&""!==this.obj.bankappid&&this.srcList.push(this.obj.bankimgurl)},cancelOrder:function(s){var t=this,e=this,a=this.$store.state.accountInfo,i={userid:this.$store.state.userId,type:this.$DES3.encrypt(s),price:this.$DES3.encrypt("0"),quantity:this.$DES3.encrypt("0"),currid:this.$DES3.encrypt("0"),orderid:this.$DES3.encrypt(e.$route.query.orderid),tradpassword:this.$DES3.encrypt(e.password),wxpay:this.$DES3.encrypt("0"),alipay:this.$DES3.encrypt("0"),bankpay:this.$DES3.encrypt("0"),phone:this.$DES3.encrypt(a.phone),nickname:this.$DES3.encrypt(a.nickname)};this.$Global.setSign(i);this.$http.post(this.$host1+"/c2c/c2ctransaction",n.a.stringify(i)).then((function(s){"0"===s.data.state&&t.initData()}))},f:function(s){return s<10?"0"+s:s},resetTime:function(s){var t=this;clearInterval(t.interval);var e=s,a=0,i=0;if(a=Math.floor(e/60%60),i=Math.floor(e%60),0===s)return t.time=this.f(0)+":"+this.f("0");this.interval=setInterval((function(){0===i&&(i=60,a<=0&&i<=0?(clearInterval(t.interval),t.minute=t.f(a),t.second=t.f(i)):a<=0?a=0:a--),i--,t.minute=t.f(a),t.second=t.f(i)}),1e3)},initData:function(s){var t=this,e={otherid:this.$DES3.encrypt(this.$route.query.otherid),type:this.$DES3.encrypt("1")};this.$http.post(this.$host1+"/c2c/getOppoDetail",n.a.stringify(e)).then((function(e){"0"===e.data.state&&(t.obj=e.data.data,t.imgShow(),s&&t.resetTime(t.obj.lefttime),3===t.obj.orderstate&&clearInterval(t.timer))}))}},destroyed:function(){clearInterval(this.timer),clearInterval(this.interval),this.$bus.$off("passShow"),this.$bus.$off("sellDetails")},mounted:function(){e("ff53")},created:function(){var s=this;this.curencyname=this.$route.query.curencyname||this.$route.query.symbol,this.$route.query.state<=2||!this.$route.query.state?(this.initData(!0),this.timer=setInterval((function(){s.initData(!0)}),1e4)):this.initData(!1),this.$bus.$on("tradingDialogHide",(function(){s.tradingDialogShow=!1})),this.$bus.$on("tradingDialogNext-seller",(function(){s.tradingDialogShow=!1,s.state=1,s.$bus.$emit("passShow","sellDetails")})),this.$bus.$on("sellDetails",(function(t){s.password=t,s.cancelOrder("3")}))}},o=r,c=(e("517f"),e("2877")),p=Object(c["a"])(o,a,i,!1,null,"19cff77e",null);t["default"]=p.exports},fd15:function(s,t,e){},ff53:function(s,t,e){}}]);